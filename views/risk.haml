%ul.line
  %li
    .key#developing
  %li
    Developing
  %li
    .key#established
  %li
    Established
  %li
    ||
  %li
    Total contracts:
  %li
    %strong
      #num

#world-map

%script{src: "/js/lib/jvectormap.min.js", type:"text/javascript"}
%script{src: "/js/lib/world-map.min.js", type:"text/javascript"}


:coffeescript
  $ ->
    vals = {}

    est = ["CA", "IT", "AU", "GB"]
    dev = ["NO", "BE", "NL", "PL", "ES"]
    
    est_col = '#ffcb05'
    dev_col = '#cc6600'
    
    (vals[i] = est_col for i in est)
    (vals[j] = dev_col for j in dev)

    $('#world-map').vectorMap
      map: 'world_mill_en'
      backgroundColor: '#00274c'
      zoomAnimate: true
      series: 
        regions: [
          {values: vals}
        ]

    $('#num').text(Object.keys(vals).length)
      
